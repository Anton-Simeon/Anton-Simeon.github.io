





<!DOCTYPE html>
	

<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en_GB" lang="en_GB" class="no-js "">
	<head>
		<title>Deliveree</title>
		
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TBP7HNR');</script>
<!-- End Google Tag Manager -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117671337-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-117671337-1');
</script>
<!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '553786911671775');
    fbq('track', 'PageView');
</script>
<!-- End Facebook Pixel Code -->

		


<meta charset="utf-8" />

<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<meta name="robots" content="index,follow" />
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png" />

<script src="static/aaa_general/js/jquery.min.js"></script>
<script src="https://js.stripe.com/v3/"></script>
<link rel="shortcut icon" href="static/deliveree/images/faicon.png" type="image/ico">


	
	
		<link href="static/deliveree/css/style.css" rel="stylesheet" type="text/css" />
	


<script type="text/javascript" src="static/aaa_general/js/intl-tel-input/prism.js"></script>
<script type="text/javascript" src="static/aaa_general/js/intl-tel-input/intlTelInput.js"></script>

	</head>
	<body class="index-page">
		











<header class="main-header">
	
	<div class="container-header">
		<div class="row align-items-center">
			<div class="col-5 col-md-4">
				
					
						<a href="/" class="logo">
							<picture class="logo-picture">
								<source type="image/png" srcset="static/deliveree/images/logo.webp">
								<source type="image/png" srcset="static/deliveree/images/logo.png">
								<img src="static/deliveree/images/logo.png" alt="logo">
							</picture>
						</a>
					
					
				
			</div>
			<div class="col-xl-4 d-none d-xl-block">
				<div class="business-search-wrap">
					<div class="business-search">
						<input type="text" class="form-control" placeholder="Search by store name" name="restname" id="business-restname" value="" />
						<div class="business-search-button"><i class="icon icon-search"></i></div>
						<div class="business-search-button-close"><i class="icon icon-close"></i></div>
					</div>
					<ul class="business-search-list">
					</ul>
				</div>
			</div>
			<div class="col-xl-4 col-md-8 col-7">
				<div class="d-flex justify-content-end align-items-center main-header-right">
					
					
						
						
							<div class="menu-button-wrap">
								<span>Menu</span>
								<div class="menu-button">
									<div></div>
									<div></div>
									<div></div>
									<div></div>
								</div>
							</div>
							<div class="login-register-wrap">
								<div class="login-register-content">
									<button type="button" data-modal-href="/myaccount/ajaxlogin?companyId=192" class="header-button login-button" data-bs-toggle="modal" data-bs-target="#loginModal">
										Login
									</button>
									<button type="button" data-modal-href="/myaccount/ajaxregister?companyId=192" class="header-button register-button" data-bs-toggle="modal" data-bs-target="#registerModal"> 
										Sign Up
									</button>
								</div>
							</div>
						
					
					
				</div>
			</div>
		</div>
	</div>
	<style type="text/css"> #iubenda-cs-banner { bottom: 0px !important; left: 0px !important; position: fixed !important; width: 100% !important; z-index: 99999998 !important; background-color: black; } .iubenda-cs-content { display: block; margin: 0 auto; padding: 20px; width: auto; font-family: Helvetica,Arial,FreeSans,sans-serif; font-size: 14px; background: #000; color: #fff;} .iubenda-cs-rationale { max-width: 900px; position: relative; margin: 0 auto; } .iubenda-banner-content > p { font-family: Helvetica,Arial,FreeSans,sans-serif; line-height: 1.5; } .iubenda-cs-close-btn { margin:0; color: #fff; text-decoration: none; font-size: 14px; position: absolute; top: 0; right: 0; border: none; } .iubenda-cs-cookie-policy-lnk { text-decoration: underline; color: #fff; font-size: 14px; font-weight: 900; } </style> <script type="text/javascript"> var _iub = _iub || []; _iub.csConfiguration = {"lang":"en","siteId":1169047,"banner":{"slideDown":false,"applyStyles":false},"cookiePolicyId":28362985}; </script><script type="text/javascript" src="//cdn.iubenda.com/cookie_solution/safemode/iubenda_cs.js" charset="UTF-8" async></script>
</header>
<div id="loginModal" data-modal-ajax class="modal modal-login-style spinner-active">
	<div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
	<div class="modal-dialog modal-sm">
		<div class="modal-content"></div>
	</div>
</div>
<div id="forgotloginModal" data-modal-ajax class="modal modal-login-style spinner-active">
	<div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
	<div class="modal-dialog modal-sm">
		<div class="modal-content"></div>
	</div>
</div>
<div id="registerModal" data-modal-ajax class="modal modal-login-style spinner-active">
	<div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
	<div class="modal-dialog modal-sm">
		<div class="modal-content"></div>
	</div>
</div>
<div id="registerModal" data-modal-ajax class="modal modal-login-style spinner-active">
	<div class="lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
	<div class="modal-dialog modal-sm">
		<div class="modal-content"></div>
	</div>
</div>
		<div class="index-content">
			<section class="top-section">
				<picture class="top-section-img">
					<source type="image/webp" srcset="static/deliveree/images/hero-mobile.webp" media="(max-width: 767px)">
					<source type="image/webp" srcset="static/deliveree/images/hero.webp" media="(min-width: 768px)">
					<source type="image/png" srcset="static/deliveree/images/hero-mobile.png" media="(max-width: 767px)">
					<source type="image/png" srcset="static/deliveree/images/hero.png" media="(min-width: 768px)">
					<img src="static/deliveree/images/hero.png" alt="text">
				</picture>
				<div class="container-index">
					<div class="top-section-text">
						<div class="top-section-content">
							<h2>Your favourite local restaurants,<br> <b>delivered</b> to your door.</h2>
							<div class="search-form-section">
								









<div class="form-index">

<div id="errorInputDiv"></div>

	
	
		
			
			
			
			
				<form accept-charset="UTF-8" action="/restaurants" method="post" id="findbranchbypostcodeform" role="form">
			
		
		<input type="hidden" name="returnurl" value="/deliveree/index" />
		<input type="hidden" id="companyId" name="companyId" value="192" />
		<input type="hidden" name="deliveryzonetype" id="deliveryzonetype" value="RADIUS_MILES">
		
			
				<input type="hidden" name="latitude" id="latitude">
				<input type="hidden" name="longitude" id="longitude">
				
					
						<div id="addressFormDiv">
							
								<input type="hidden" id="addressLine1" name="addressLine1">
							
								<input type="hidden" id="addressLine2" name="addressLine2">
							
								<input type="hidden" id="postCode" name="postCode">
							
								<input type="hidden" id="coordinates" name="coordinates">
							
						</div>
						<div class="input-group">
							<label class="form-index-input form-index-address">
								<input type="text" class="form-control" id="address" placeholder="Enter your address" autocomplete="off"/>
							</label>
							<button class="btn btn-primary form-index-btn index-btn-address-js" type="button" id="findStores">Order</button>
							<div class="address-lists address-polygon-map-list"></div>
						</div>
					
					
				
			
			
		
		</form>
	

</div>
							</div>
						</div>
					</div>
					<div class="steps">
						<div class="one-step">
							<div class="one-step-img">
								<picture>
									<source type="image/png" srcset="static/deliveree/images/step1.webp">
									<source type="image/png" srcset="static/deliveree/images/step1.png">
									<img src="static/deliveree/images/step1.png" alt="logo">
								</picture>
							</div>
							<p>1. Choose a Restaurant</p>
						</div>
						<div class="one-step">
							<div class="one-step-img">
								<picture>
									<source type="image/png" srcset="static/deliveree/images/step2.webp">
									<source type="image/png" srcset="static/deliveree/images/step2.png">
									<img src="static/deliveree/images/step2.png" alt="logo">
								</picture>
							</div>
							<p>2. Place your order</p>
						</div>
						<div class="one-step">
							<div class="one-step-img">
								<picture>
									<source type="image/png" srcset="static/deliveree/images/step3.webp">
									<source type="image/png" srcset="static/deliveree/images/step3.png">
									<img src="static/deliveree/images/step3.png" alt="logo">
								</picture>
							</div>
							<p>3. Pay by card online</p>
						</div>
						<div class="one-step">
							<div class="one-step-img">
								<picture>
									<source type="image/png" srcset="static/deliveree/images/step4.webp">
									<source type="image/png" srcset="static/deliveree/images/step4.png">
									<img src="static/deliveree/images/step4.png" alt="logo">
								</picture>
							</div>
							<p>4. Your food is delivered</p>
						</div>
					</div>
				</div>
			</section>
			<section class="section-style2">
				<picture class="section-style2-img">
					<source type="image/webp" srcset="static/deliveree/images/bg-section-style-2-mobile.webp" media="(max-width: 767px)">
					<source type="image/webp" srcset="static/deliveree/images/bg-section-style-2.webp" media="(min-width: 768px)">
					<source type="image/png" srcset="static/deliveree/images/bg-section-style-2-mobile.png" media="(max-width: 767px)">
					<source type="image/png" srcset="static/deliveree/images/bg-section-style-2.png" media="(min-width: 768px)">
					<img src="static/deliveree/images/bg-section-style-2.png" alt="text">
				</picture>
				<div class="container-index">
					<div class="content-section-style2">
						<h2>Find your favourites right here!</h2>
						<div class="text-section-style2">
							<p>From full English breakfasts to proper Sunday roasts with<br> every cuisine in between! <b>Download the Deliveree app today</b><br> Your hub for quality local restaurants.</p>
							<div class="mobileapp-section row">	
								<div class="col-6 ios-icn-mobile">
									<a href="https://apple.co/2VUc0sU" target="_blank">
										<picture>
											<source type="image/png" srcset="static/deliveree/images/ios-download.webp">
											<source type="image/png" srcset="static/deliveree/images/ios-download.png">
											<img src="static/deliveree/images/ios-download.png" alt="logo">
										</picture>
									</a>
								</div>
								<div class="col-6 android-icn-mobile">
									<a href="https://play.google.com/store/apps/details?id=com.deliveree.delivereeapp" target="_blank">
										<picture>
											<source type="image/png" srcset="static/deliveree/images/android-download.webp">
											<source type="image/png" srcset="static/deliveree/images/android-download.png">
											<img src="static/deliveree/images/android-download.png" alt="logo">
										</picture>
									</a>
								</div>
							</div>
						</div>
						<div class="hashtags">
							<span>#dineoutathome</span>
							<span>#supportlocalrestaurants</span>
						</div>
						<div class="download-app-img">
							<picture>
								<source type="image/png" srcset="static/deliveree/images/mobile-app.webp">
								<source type="image/png" srcset="static/deliveree/images/mobile-app.png">
								<img src="static/deliveree/images/mobile-app.png" alt="logo">
							</picture>
						</div>
					</div>
				</div>
			</section>
			<section class="section-blocks-wrap">
				<div class="container-index">
					<div class="row">
						<div class="col-md-6">
							<a href="/store-signup" class="block-style">
								<div class="block-style-img"><div>
									<picture>
										<source type="image/png" srcset="static/deliveree/images/bitmap.webp">
										<source type="image/png" srcset="static/deliveree/images/bitmap.png">
										<img src="static/deliveree/images/bitmap.png" alt="logo">
									</picture>
								</div></div>
								<h3>Partner with <br>Deliveree</h3>
								<p><b>Team up with us to reach more customers.</b><br> Let us take care of the details, so you can stay<br> focused on making great food.</p>
							</a>
						</div>
						<div class="col-md-6">
							<a href="/become-a-driver" class="block-style">
								<div class="block-style-img"><div>
									<picture>
										<source type="image/png" srcset="static/deliveree/images/food-delivery-blurry.webp">
										<source type="image/png" srcset="static/deliveree/images/food-delivery-blurry.png">
										<img src="static/deliveree/images/food-delivery-blurry.png" alt="logo">
									</picture>
								</div></div>
								<h3>Become a<br> driver</h3>
								<p><b>Earn extra money in your spare time.</b> <br>Set your availability, keep 100% of your<br> delivery fees and tips, and get paid weekly.</p>
							</a>
						</div>
					</div>
				</div>
			</section>
		</div>
		
			

<div id="addressPolygonModal" class="modal" role="dialog" style="display: none;">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">&nbsp;</h4>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
			</div>
			<div class="modal-body">
 				<div class="address-search-option"><p><span class="my-location" >YOUR CURRENT GEO LOCATION</span><p></div>
				<div class="map-address-wrap">
					<input type="text" class="form-control" id="modaladdress" autocomplete="off">
					<div class="address-lists address-polygon-map-list-modal"></div>
				</div>
				<div id="mapSection" style="width:100%; height:320px;"></div>
				<div class="text-center mt-3"><button type="button" id="confirmLocation" class="btn btn-primary">Confirm location</button></div>
			</div>
		</div>
	</div>
</div>
		
		











<script type="text/javascript">
	function imgError(image) {
	    image.onerror = "";
	    image.src = "static/images/companylogos/ordertiger.png";
	    return true;
	}
</script>
<footer id="footer" class="footer sticky-footer">
	<div class="container-index">
		<div class="footer-top">
			<div class="row">
				<div class="col-sm-6 col-sm-push-3 col-xs-12">
					<nav class="nav-footer">
						<ul>
							<li>
								<a href="/">Home</a>
							</li>
							<li>
								<a href="/faq">FAQ</a>
							</li>
							<li>
								<a href="/become-a-driver">Become a Driver</a>
							</li>
							<li>
								<a href="/store-signup">Restaurant Sign Up</a>
							</li>
						</ul>
					</nav>
				</div>
				<div class="col-sm-3 col-sm-pull-6 col-xs-6">
					<ul class="footer-social">
						<li>
							<img src="static/deliveree/images/facebook.png">
						</li>
						<li>
							<img src="static/deliveree/images/twitter.png">
						</li>
						<li>
							<img src="static/deliveree/images/instagram.png">
						</li>
						<li>
							<a href="https://apple.co/2VUc0sU" target="_blank"> 
								<img src="static/deliveree/images/iphone.png">
							</a> 
						</li>
						<li>
							<a href="https://play.google.com/store/apps/details?id=com.deliveree.delivereeapp" target="_blank">
								<img src="static/deliveree/images/android.png">
							</a> 
						</li>
					</ul>
				</div>
				<div class="col-sm-3 col-xs-6">
					<img src="static/deliveree/images/visa.png" class="visa-img">
				</div> 
			</div>
		</div>
		<div class="footer-bottom">
			<p>
				<a href="/termsandconditions">Terms & Conditions</a> | <a href="/privacypolicy">Privacy Policy | <a href="/cookiepolicy">Cookie Policy</a>
				<span>&copy;
				<script type="text/javascript">
					var year = new Date();
					document.write(year.getFullYear());
				</script>
				Deliveree . All rights reserved.</span> 
			</p>
		</div>
	</div>
</footer>
<script src="static/aaa_general/js/all.js"></script>

<!-- IE -->
<script nomodule>window.MSInputMethodContext && document.documentMode && document.write('<link rel="stylesheet" href="/css/bootstrap-ie11.min.css"><script src="https://cdn.jsdelivr.net/gh/nuxodin/ie11CustomProperties@4.1.0/ie11CustomProperties.min.js"><\/script><script crossorigin="anonymous" src="https://polyfill.io/v3/polyfill.min.js?features=default,Array.prototype.includes,Array.prototype.find,Number.parseFloat%2CNumber.parse"><\/script>');</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-ie11@5.0.0-beta2/css/bootstrap-ie11.min.css" media="all and (-ms-high-contrast: active), (-ms-high-contrast: none)">
<!-- end IE -->
		
		
		
		
			

<style type="text/css">
/*	#findbranchbypostcodeform {
		opacity: 0;
	} */
</style>
<script type="text/javascript">
	var map, pos = undefined, jsonDefualtLocationParams = [];
	var geocoder, interpreatedAddress;
	var languageLocale = 'en_GB';
	var languageCode = languageLocale.split("_")[0];
	var region = 'GB';
	var modalautocomplete;
	
	var store_search_map_service, store_search_pin_my_location;
	jQuery('.modal-content').css('opacity', 0);
	jQuery.ajax({
		type: "GET",
		url: 'https://live.ordertiger.com/api/v1/companies/192',
		success: function(response) {
			console.log('response');
			console.log(response.deliveryZoneSettings);

			var channelNumber = "";
			for (var i = 0; i < response.deliveryZoneSettings.length; i++) {
				var channel = response.deliveryZoneSettings[i].channel;

				if(channel == 'ALL' && channelNumber === "") {
					channelNumber = i;
				}
				if(channel == 'WEB') {
					channelNumber = i;	
				}

			}

			console.log(channelNumber);
			if(channelNumber !== "") {
				console.log('channelNumber');
				var deliveryZoneSettingParams = response.deliveryZoneSettings[channelNumber].deliveryZoneSettingParams;

				for (var i = 0; i < deliveryZoneSettingParams.length; i++) {
					var key = deliveryZoneSettingParams[i].key;

					if(key == 'store_search_map_service') {
						store_search_map_service = deliveryZoneSettingParams[i].value;
					}
					if(key == 'store_search_pin_my_location') {
						store_search_pin_my_location = deliveryZoneSettingParams[i].value;
					}

				}

			}else {
				store_search_map_service = null;
				store_search_pin_my_location = null;
			}

			// for test
			// store_search_map_service = "zipcode2_no_geo";
			console.log('store_search_map_service');
			console.log(store_search_map_service);

			if(store_search_map_service == "zipcode2_no_geo") {
				jQuery('#address').attr("placeholder", "Enter full postcode").attr('id', 'zipcode2_no_geo').attr('name', 'zipcode2_no_geo');
				jQuery('#findStores').attr('id', 'zipcode2_no_geo_btn');
				zipcode2_no_geo_fun();
			}
			showAjaxStop();
		},
		error: function (error) {
			showAjaxStop();
		}
	});

	function showAjaxStop() {
		jQuery('.modal-content').css('opacity', 1);
		// jQuery('#findbranchbypostcodeform').css('opacity', 1);
		jQuery('#address, #modaladdress').on('input', function(){
			if (jQuery(this).val() != '') {
				myEfficientInputFn();
			} else {
				jQuery(visibleAddressList()).hide();
			}
		});
		
		jQuery('.my-location').on('click', function(){
			getMyGeoLocation();
		});

		jQuery('.close.hideme').on('click', function(){
			jQuery(this).parent().addClass("hidden");
		});
	}

	function zipcode2_no_geo_fun() {
		jQuery('#zipcode2_no_geo_btn').click(function(){
			zipcode2_no_geo_Ajax(jQuery("#zipcode2_no_geo").val());
			return false
		});
		jQuery("#zipcode2_no_geo").keydown(function(event){
		    if(event.keyCode == 13){
		        zipcode2_no_geo_Ajax(jQuery("#zipcode2_no_geo").val());
		        return false
		    }
		});
	}

	function zipcode2_no_geo_Ajax(value) {
		var dataZip = {
			"companyLocale" : 'en_GB',
			"postCode" : value
		}

		jQuery.ajax({
			headers: {
				Accept: "application/json",
				"Content-Type": "application/json"
			},
	    	type: "POST",
	    	data: JSON.stringify(dataZip),
	    	dataType: 'json',
			url: 'https://live.ordertiger.com/rest/postcodeanywhere/is-full-postcode',
			success: function(response) {
				if(response) {
					jQuery.ajax({
						type: "POST",
						url: 'https://maps.googleapis.com/maps/api/geocode/json?address=' + value + '&components=GB:GB&key=AIzaSyAroNtwZVVZwUcIQsowdwhssYpzaZcoguw',
						success: function(response) {
							console.log('response_google');
							console.log(response.status);
							if(response.status == "ZERO_RESULTS") {
								jQuery('#errorInputDiv').html("<div class=\"alert alert-dismissible alert-danger\"><button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>Postcode is invalid</div>");
							}
							if(response.status == "OK") {
								var results_lat = response.results[0].geometry.location.lat;
								var results_lng = response.results[0].geometry.location.lng;
								jQuery('#latitude').val(results_lat);
								jQuery('#longitude').val(results_lng);
								console.log(results_lat);
								console.log(results_lng);
								jQuery('#findbranchbypostcodeform').submit();
							}
						}
					});
				}else {
					//error 
					jQuery('#errorInputDiv').html("<div class=\"alert alert-dismissible alert-danger\"><button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>Please enter full Postcode</div>");
				}
			}
		});
	}
	
	var checkForType = (function(){
		return function(types, typeLabel){
			for(var i=0; i<types.length;i++) {
				if(typeLabel.indexOf(types[i]) > -1) {
					return true;
				}
			}
			return false;
		}
	})();
	
	var setValueForSelector = (function(){
		return function(selector, value){
			if(document.getElementById(selector) != null && value) {
				document.getElementById(selector).value = value;
			} else if (document.getElementById(selector) != null) {
				document.getElementById(selector).value = '';
			}
		}
	})();

	var myEfficientInputFn = debounce(function() {
		address = jQuery(visibleAddressInput()).val();
		if (address != '') {
			var options = {
				input: address,
				region : region,
				componentRestrictions: {country: region},
				language : languageCode
			};
			var service = new google.maps.places.AutocompleteService();
			service.getPlacePredictions(options, function(predictions, status) {
				if (status != google.maps.places.PlacesServiceStatus.OK) {
					return;
				}
				jQuery(visibleAddressList()).show().html("");
				predictions.forEach(function(prediction) {
					var tempHtml = "<div class='address-row'><div class='formated-address'>{formatedAddress}</div></div>";
					tempHtml = tempHtml.replace('{formatedAddress}', prediction.description);
					var addressRow = jQuery(tempHtml);
					addressRow.on("click", function(e){

						if(store_search_map_service == null || store_search_map_service == "") {
							selectPlace(jQuery(this).data("place"));
						}
						if(store_search_map_service == 'autocomplete_only') {
							jQuery('#findbranchbypostcodeform').submit();
						}

						if(store_search_pin_my_location == 'no') {
							 jQuery('.my-location').hide();
						}


					});
					addressRow.data("place", prediction);
					jQuery(visibleAddressList()).append(addressRow);
				});
				if (predictions.length !== 0) {
					if(typeof geocoder === 'undefined') {
						geocoder = new google.maps.Geocoder;
					}
					getPlaceFromPlaceId(predictions[0].place_id);
				}
			});
		}
		
	}, 350);

	function getPlaceFromPlaceId(placeId) {
		geocoder.geocode({'placeId': placeId}, function(results, status) {
			if (status !== 'OK') {
			  window.alert('Geocoder failed due to: ' + status);
			  return;
			}
			var address = results[0];
			pos = {
				lat: address.geometry.location.lat(),
				lng: address.geometry.location.lng()
			};
			interpreatedAddress = interpreatAddress(address);
			if(interpreatedAddress != null) {
				setValueForAddressField(interpreatedAddress);
			}
			setCordinates(pos.lat, pos.lng);
		});
	}
	var referenceFromModal = function() {
		return function () {
			return jQuery('#addressPolygonModal').is(':visible');
		}
	}();
	
	var visibleAddressInput = function() {
		return function (){
			return referenceFromModal() ? "#modaladdress" : "#address" ; 
		}
	}();

	var visibleAddressList = function() {
		return function (){ 
			return referenceFromModal() ? ".address-polygon-map-list-modal" : ".address-polygon-map-list" ; 
		}
	}();
	
	function selectPlace(place) {

		jQuery("#modaladdress").val(place.description);
		jQuery("#address").val(place.description);
		
		geocoder.geocode({'placeId': place.place_id}, function(results, status) {
			if (status !== 'OK') {
			  window.alert('Geocoder failed due to: ' + status);
			  return;
			}
			var address = results[0];
			/* 
			interpreatedAddress = interpreatAddress(address);
			if(interpreatedAddress != null) {
				setValueForAddressField(interpreatedAddress);
				setLatitudeLongitude(address.geometry.location.lat, address.geometry.location.lng);
			} 	*/
			interpreatedAddress = interpreatAddress(address);
			if(interpreatedAddress != null) {
				setValueForAddressField(interpreatedAddress);
			}
			jQuery(visibleAddressList()).hide();
			pos = {
				lat: address.geometry.location.lat(),
				lng: address.geometry.location.lng()
			};
			setCordinates(pos.lat, pos.lng);
			if(!referenceFromModal()) {
				loadAddressPolygonModal();
			} else {
				map.setCenter(pos);
			}
		});
	}
	
	function debounce(func, wait, immediate) {
		var timeout;
		return function() {
			var context = this, args = arguments;
			var later = function() {
				timeout = null;
				if (!immediate) func.apply(context, args);
			};
			var callNow = immediate && !timeout;
			clearTimeout(timeout);
			timeout = setTimeout(later, wait);
			if (callNow) func.apply(context, args);
		};
	};
	
	jQuery(".search-btn-home").click(function() {	
		if (jQuery(visibleAddressInput()).val().trim() == '') {
			jQuery(visibleAddressInput()).focus();
			return false;
		}
		loadAddressPolygonModal();
		return false;
	});
	
	function loadAddressPolygonModal() {
		jQuery(visibleAddressList()).hide();
		jQuery('#addressPolygonModal').modal('show');
		window.dispatchEvent(new Event('resize'));
		jQuery("#mapSection").focus();
		if (typeof pos !== "undefined") {
			map.setCenter(pos);
			setCordinates(pos.lat, pos.lng);
			pos = undefined;
			jQuery("#modaladdress").val(jQuery("#address").val());
		}

	}
	
	function setCordinates(lat, lng) {
		jQuery("#latitude").val(lat);
		jQuery("#longitude").val(lng);
		setValueForSelector("coordinates", lat + "," + lng);
	}
	
	function initMap() {
		var mapOptions = {
			zoom: 16,
			center: new google.maps.LatLng(52.5498783, 13.425209099999961),
		};
		jsonDefualtLocationParams["address"] = 'United Kingdom';
		map = new google.maps.Map(document.getElementById('mapSection'), mapOptions);
		if(typeof geocoder === 'undefined') {
			geocoder = new google.maps.Geocoder;
		}
		geocoder.geocode(jsonDefualtLocationParams, function(results, status) {
			if (status == google.maps.GeocoderStatus.OK) {
				map.setCenter(results[0].geometry.location);
				console.log(results[0].geometry.location);
				setCordinates(results[0].geometry.location.lat(), results[0].geometry.location.lng());
				interpreatedAddress = interpreatAddress(results[0]);
				if(interpreatedAddress != null) {
					setValueForAddressField(interpreatedAddress);
				}
			}
		});
		
		 jQuery('<div/>').addClass('centerMarker').appendTo(map.getDiv())
		.click(function() {
			var that=jQuery(this);
			if(!that.data('win')) {
				that.data('win',new google.maps.InfoWindow({content:'Select Location'}));
				that.data('win').bindTo('position',map,'center');
			}
			that.data('win').open(map);
		 });
		 
		 var myEfficientDragFn = debounce(function() {
			 jQuery.get("https://maps.googleapis.com/maps/api/geocode/json?language="+languageCode+"&latlng="+map.getCenter().lat()+","+map.getCenter().lng()+"&key=AIzaSyAroNtwZVVZwUcIQsowdwhssYpzaZcoguw", function(data, status){
				 console.log('data status '+data.status);
				if(data.status != 'OVER_QUERY_LIMIT' && data.status != 'ZERO_RESULTS') {
					console.log(data.results[0]);
					interpreatedAddress = interpreatAddress(data.results[0]);
					setCordinates(data.results[0].geometry.location.lat, data.results[0].geometry.location.lng);
					if(interpreatedAddress != null) {
						setValueForAddressField(interpreatedAddress);
					}
					jQuery(visibleAddressInput()).val(data.results[0].formatted_address);
				} else {
					jQuery(visibleAddressList()).hide();
				}
			});
		}, 350);
		google.maps.event.addListener(map, 'drag', myEfficientDragFn);
		google.maps.event.trigger(map, "resize");
		jQuery(visibleAddressList()).hide();
	}
	
	var interpreatAddress = (function(){
		return function(address){
			var addressComponents = {};
			var addComponents = address.address_components;
			for(var i=0; i<addComponents.length;i++) {
				var addComponent = addComponents[i];
				if(checkForType(addComponent.types, ['premise', 'street_number','subpremise'])) {
					addressComponents["number"] = addComponent.long_name;
					addressComponents["houseNo"] = addComponent.long_name;
					addressComponents["appartNo"] = addComponent.long_name;
				}
				if(checkForType(addComponent.types, ['route', 'street', 'intersection', 'ward', 'park', 'colloquial_area'])) {
					addressComponents["street"] = addComponent.long_name;
				}
				if(checkForType(addComponent.types, ['neighborhood'])) {
					addressComponents["neighborhood"] = addComponent.long_name;
				}
				if(addressComponents["neighborhood"] == undefined) {
					addressComponents["neighborhood"] = addressComponents["street"];
				}
				if(checkForType(addComponent.types, 'postal_code')) {
					addressComponents["postcode"] = addComponent.long_name;
				}
				if(checkForType(addComponent.types, ['country'])) {
					addressComponents["country"] = addComponent.long_name;
				}
				if(checkForType(addComponent.types, ['administrative_area_level_4'])) {
					addressComponents["state"] = addComponent.long_name;
					addressComponents["region"] = addComponent.long_name;
				}
				if(checkForType(addComponent.types, ['administrative_area_level_3'])) {
					if(!addressComponents["state"]) {
						addressComponents["state"] = addComponent.long_name;
					}
					addressComponents["city"] = addComponent.long_name;
				}
				if(checkForType(addComponent.types, ['administrative_area_level_2', 'locality'])) {
					if(!addressComponents["city"]) {
						addressComponents["city"] = addComponent.long_name;
					}
					addressComponents["district"] = addComponent.long_name;
					addressComponents["province"] = addComponent.long_name;
				}
				if(checkForType(addComponent.types, ['administrative_area_level_1'])) {
					addressComponents["state"] = addComponent.long_name;
					if(addressComponents["district"]) {
						addressComponents["district"] = addComponent.long_name;
					}
					if(!addressComponents["city"]) {
						addressComponents["city"] = addComponent.long_name;	
						addressComponents["province"] = addComponent.long_name;	
					}
				} 
				if(checkForType(addComponent.types, ['sublocality', 'sublocality_level_1', 'sublocality_level_2'])) {
					addressComponents["area"] = addComponent.long_name;
				} 
				if(checkForType(addComponent.types, ['sublocality_level_1'])) {
					addressComponents["district"] = addComponent.long_name;
				} 
				if(checkForType(addComponent.types, ['sublocality_level_2'])) {
					addressComponents["subDistrict"] = addComponent.long_name;
				}
			}
			return addressComponents;
		}
	})()

	function setValueForAddressField(address) {
		setValueForSelector("postCode", address.postcode);
		setValueForSelector("postcode", address.postcode);
		setValueForSelector("postalCode", address.postcode);
		setValueForSelector("buildingName", address.houseNo);
		setValueForSelector("number", address.number);
		setValueForSelector("homeNo", address.houseNo);
		setValueForSelector("officeNo", address.houseNo);
		setValueForSelector("officeBuildingName", address.appartNo);
		setValueForSelector("street", address.street);
		setValueForSelector("streetName", address.street);
		setValueForSelector("streetAddress", address.street);
		if(address.neighborhood) {
			setValueForSelector("neighbourhood", address.neighborhood);	
		} else {
			setValueForSelector("neighbourhood", address.street);
		}
		setValueForSelector("townCity", address.city);
		setValueForSelector("city", address.city);
		setValueForSelector("province", address.province);
		setValueForSelector("country", address.country);
		setValueForSelector("apartmentNo.", address.appartNo);
		setValueForSelector("apartmentBuildingName", address.houseNo);
		setValueForSelector("directions", address.area);
		setValueForSelector("additionalDirections", address.area);
		setValueForSelector("subDistrict", address.subDistrict);
		setValueForSelector("district", address.district);
	}

	var getMyGeoLocation = (function() {
		return function(){
			if (navigator.geolocation && location.protocol === 'https:') {
				navigator.geolocation.getCurrentPosition(function(position) {
					pos = {
						lat: position.coords.latitude,
						lng: position.coords.longitude
					};
					map.setCenter(pos);
					center = new google.maps.LatLng(pos.lat,pos.lng);
					jQuery.get("https://maps.googleapis.com/maps/api/geocode/json?language="+languageCode+"&latlng="+map.getCenter().lat()+","+map.getCenter().lng()+"&key=AIzaSyAroNtwZVVZwUcIQsowdwhssYpzaZcoguw", function(data, status){
					 	if(data.status != 'OVER_QUERY_LIMIT') {
							jQuery("#modaladdress").val(data.results[0].formatted_address);
							setCordinates(results[0].geometry.location.lat(), results[0].geometry.location.lng());
							interpreatedAddress = interpreatAddress(data.results[0]);
							if(interpreatedAddress != null) {
								setValueForAddressField(interpreatedAddress);
							}
						}
					});
				});
			}
		}
	})();
</script>
	<!-- 		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCxp7CxXlyRl6ujLvLwdXr4Jq-FIwHIyNQ&v=3.27&libraries=geometry,places&region=GB&language=&components=country:GB"></script>
		
		 -->
			<script type="text/javascript">
				$(document).ready(function() {
					// initMap();
					$(document).delegate("#confirmLocation", "click", function() {
						$('#findbranchbypostcodeform').submit()
					});
				});
			</script>
			
		</div>	
	</body>
</html>